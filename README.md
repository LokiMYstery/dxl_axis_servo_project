# DYNAMIXEL XL330 – Axis Servo Control Framework (Python)

This project provides a **simple, reliable "axis servo execution layer"** for controlling multiple DYNAMIXEL motors
(e.g., XL330) via **U2D2** on Windows using **dynamixel-sdk**.

It supports:
- **Extended Position (multi-turn)** mode (and can be adapted to single-turn if needed)
- **Absolute targets (degrees, including >360° multi-turn)**
- **Relative nudges (degrees) added to an internal command state** (not added to noisy present readings)
- **Soft reset** of the command coordinate system (`to_present` / `to_nearest_turn`)
- **Time-synced motion**: all motors reach targets at roughly the same time via *streamed setpoints*
- **Template files (JSON)** to run multi-step motions quickly

## 1) Install

Create/activate a Python env, then:

```bash
pip install -r requirements.txt
```

## 2) Quick start

1. Edit `config.json` (COM port / baud rate / IDs).
2. Scan motors:

```bash
python template_runner.py --scan
```

3. Run a template:

```bash
python template_runner.py --template templates/demo_sequence.json
```

## 3) Notes

- Default `ticks_per_rev = 4096` (common for XL330). If yours differs, change it in `config.json`.
- Control table addresses are set for common X-series style:
  - Operating Mode: 11
  - Torque Enable: 64
  - Goal Position: 116
  - Present Position: 132
  - Present Current: 126 (optional)
  If you use a different model/firmware, verify via DYNAMIXEL Wizard.

## 4) Templates

Templates are JSON with a list of steps:
- `soft_reset`
- `set_abs_deg`
- `nudge_rel_deg`
- `execute`
- `wait`

See examples in `templates/`.

---
Generated by ChatGPT on 2026-01-13.
